<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produto - AlphaSports</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container top-bar-content">
            <span>Frete grátis para compras acima de R$ 299</span>
            <span>Atendimento: (11) 4002-8922</span>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container header-content">
            <a href="index.html" class="logo">
                <img src="/images/Logo.png" alt="AlphaSports">
            </a>
            
            <div class="search-bar">
                <input type="text" placeholder="Buscar produtos..." id="searchInput">
                <button class="search-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>
                </button>
            </div>

            <nav class="header-nav">
                <a href="login.html" class="nav-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                    <span>Entrar</span>
                </a>
                <a href="carrinho.html" class="nav-link cart-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path></svg>
                    <span>Carrinho</span>
                    <span class="cart-count" id="cartCount">0</span>
                </a>
            </nav>

            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg>
            </button>
        </div>
    </header>

    <main class="product-detail">
        <div class="container">
            <div class="breadcrumb">
                <a href="index.html">Home</a>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg>
                <a href="produtos.html">Produtos</a>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg>
                <span id="breadcrumbProduct">Produto</span>
            </div>

            <div class="product-detail-grid" id="productDetailContent">
                <!-- Generated by JS -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <img src="/images/Logo.png" alt="AlphaSports" class="footer-logo">
                    <p>Sua loja de artigos esportivos com as melhores marcas e preços.</p>
                </div>
                <div class="footer-col">
                    <h4>Institucional</h4>
                    <ul>
                        <li><a href="#">Sobre Nós</a></li>
                        <li><a href="#">Nossas Lojas</a></li>
                        <li><a href="#">Trabalhe Conosco</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Ajuda</h4>
                    <ul>
                        <li><a href="#">Central de Atendimento</a></li>
                        <li><a href="#">Trocas e Devoluções</a></li>
                        <li><a href="#">Prazo de Entrega</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Minha Conta</h4>
                    <ul>
                        <li><a href="login.html">Entrar</a></li>
                        <li><a href="cadastro.html">Cadastrar</a></li>
                        <li><a href="carrinho.html">Carrinho</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 AlphaSports. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="data.js"></script>
    <script src="script.js"></script>
    <script>
        let currentProduct = null;
        let selectedSize = null;
        let quantity = 1;

        function initProductDetail() {
            const params = new URLSearchParams(window.location.search);
            const productId = parseInt(params.get('id'));
            
            currentProduct = products.find(p => p.id === productId);
            
            if (!currentProduct) {
                window.location.href = 'produtos.html';
                return;
            }

            document.title = `${currentProduct.name} - AlphaSports`;
            document.getElementById('breadcrumbProduct').textContent = currentProduct.name;
            selectedSize = currentProduct.sizes[0];

            renderProductDetail();
        }

        function renderProductDetail() {
            const content = document.getElementById('productDetailContent');
            const hasDiscount = currentProduct.discount > 0;

            content.innerHTML = `
                <div class="product-gallery">
                    <div class="gallery-thumbs">
                        ${currentProduct.images.map((img, idx) => `
                            <button class="thumb ${idx === 0 ? 'active' : ''}" onclick="changeMainImage(${idx}, this)">
                                <img src="${img}" alt="${currentProduct.name}">
                            </button>
                        `).join('')}
                    </div>
                    <div class="gallery-main">
                        <img src="${currentProduct.images[0]}" alt="${currentProduct.name}" id="mainImage">
                    </div>
                </div>

                <div class="product-details">
                    <span class="product-brand">${currentProduct.brand}</span>
                    <h1>${currentProduct.name}</h1>
                    
                    <div class="product-rating">
                        <div class="stars">${generateStars(currentProduct.rating)}</div>
                        <span class="rating-count">(${currentProduct.reviews} avaliações)</span>
                    </div>

                    <div class="product-price">
                        ${hasDiscount ? `<span class="original-price">R$ ${currentProduct.originalPrice.toFixed(2).replace('.', ',')}</span>` : ''}
                        <span class="current-price ${hasDiscount ? 'discount-price' : ''}">R$ ${currentProduct.price.toFixed(2).replace('.', ',')}</span>
                        <span class="installments">ou 10x de R$ ${(currentProduct.price / 10).toFixed(2).replace('.', ',')} sem juros</span>
                    </div>

                    <div class="product-options">
                        <p class="option-label">Tamanho: <strong id="selectedSizeLabel">${selectedSize}</strong></p>
                        <div class="size-options">
                            ${currentProduct.sizes.map(size => `
                                <button class="size-btn ${size === selectedSize ? 'active' : ''}" onclick="selectSize('${size}', this)">
                                    ${size}
                                </button>
                            `).join('')}
                        </div>
                    </div>

                    <div class="quantity-selector">
                        <span class="option-label">Quantidade:</span>
                        <button class="qty-btn" onclick="updateQuantity(-1)">-</button>
                        <input type="number" class="qty-input" value="1" min="1" max="10" id="quantityInput" onchange="setQuantity(this.value)">
                        <button class="qty-btn" onclick="updateQuantity(1)">+</button>
                    </div>

                    <div class="product-actions">
                        <button class="btn btn-primary" onclick="handleAddToCart()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path></svg>
                            Adicionar ao Carrinho
                        </button>
                        <button class="btn btn-outline">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path></svg>
                            Favoritar
                        </button>
                    </div>

                    <div class="product-features">
                        <div class="feature-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg>
                            <span>Frete grátis para compras acima de R$ 299</span>
                        </div>
                        <div class="feature-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                            <span>Compra 100% segura</span>
                        </div>
                        <div class="feature-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"></path><path d="m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9"></path><path d="M12 3v6"></path></svg>
                            <span>Troca e devolução grátis em até 30 dias</span>
                        </div>
                    </div>
                </div>
            `;
        }

        function changeMainImage(index, thumb) {
            document.getElementById('mainImage').src = currentProduct.images[index];
            document.querySelectorAll('.thumb').forEach(t => t.classList.remove('active'));
            thumb.classList.add('active');
        }

        function selectSize(size, btn) {
            selectedSize = size;
            document.getElementById('selectedSizeLabel').textContent = size;
            document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        function updateQuantity(delta) {
            quantity = Math.max(1, Math.min(10, quantity + delta));
            document.getElementById('quantityInput').value = quantity;
        }

        function setQuantity(value) {
            quantity = Math.max(1, Math.min(10, parseInt(value) || 1));
            document.getElementById('quantityInput').value = quantity;
        }

        function handleAddToCart() {
            addToCart(currentProduct.id, selectedSize, quantity);
        }

        document.addEventListener('DOMContentLoaded', initProductDetail);
    </script>
</body>
</html>
